<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="H·ªá th·ªëng qu·∫£n l√Ω mua b√°n b·∫°c c√° nh√¢n - Theo d√µi giao d·ªãch, t√≠nh gi√° trung b√¨nh v√† l·ª£i nhu·∫≠n"
    />
    <title>Qu·∫£n L√Ω Mua B√°n B·∫°c</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <header class="header">
        <div class="header-content">
          <div class="logo">
            <span class="logo-icon">ü™ô</span>
            <h1>Qu·∫£n L√Ω B·∫°c</h1>
          </div>
          <div class="stats-bar" id="stats-bar">
            <div class="stat-item">
              <span class="stat-label">T·ªïng l∆∞·ª£ng</span>
              <span class="stat-value" id="stat-quantity">0</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">Gi√° TB</span>
              <span class="stat-value" id="stat-avg-price">0 ‚Ç´</span>
            </div>
            <div class="stat-item">
              <span class="stat-label">T·ªïng l·ªùi/l·ªó</span>
              <span class="stat-value" id="stat-profit">0 ‚Ç´</span>
            </div>
          </div>
        </div>
      </header>

      <main class="main-content">
        <!-- Section 1: Form Mua B·∫°c -->
        <section class="section section-buy" id="section-buy">
          <div class="section-header">
            <h2><span class="section-icon">üì•</span> Mua B·∫°c</h2>
          </div>
          <form id="buy-form" class="form">
            <div class="form-row">
              <div class="form-group">
                <label for="buy-date">Ng√†y mua</label>
                <input
                  type="text"
                  id="buy-date"
                  name="date"
                  placeholder="VD: 2024-01-15"
                  required
                />
                <span class="input-hint">ƒê·ªãnh d·∫°ng: YYYY-MM-DD</span>
              </div>
              <div class="form-group">
                <label for="buy-quantity">S·ªë l∆∞·ª£ng (l∆∞·ª£ng)</label>
                <input
                  type="text"
                  id="buy-quantity"
                  name="quantity"
                  placeholder="VD: 5"
                  required
                />
              </div>
              <div class="form-group">
                <label for="buy-price">Gi√° m·ªói l∆∞·ª£ng (‚Ç´)</label>
                <input
                  type="text"
                  id="buy-price"
                  name="price"
                  placeholder="VD: 1800000"
                  required
                />
              </div>
            </div>
            <div class="form-actions">
              <button type="submit" class="btn btn-primary btn-buy">
                <span class="btn-icon">üí∞</span>
                X√°c nh·∫≠n mua
              </button>
            </div>
          </form>
          <div id="buy-message" class="message"></div>
        </section>

        <hr class="section-divider" />

        <!-- Section 2: Danh s√°ch giao d·ªãch -->
        <section class="section section-list" id="section-list">
          <div class="section-header">
            <h2><span class="section-icon">üìã</span> L·ªãch S·ª≠ Giao D·ªãch</h2>
          </div>

          <div class="table-container">
            <table class="data-table" id="transactions-table">
              <thead>
                <tr>
                  <th>Ng√†y</th>
                  <th>S·ªë l∆∞·ª£ng</th>
                  <th>Gi√°/l∆∞·ª£ng</th>
                  <th>Lo·∫°i</th>
                  <th>Gi√° TB l√∫c ƒë√≥</th>
                  <th>L·ªùi/L·ªó</th>
                </tr>
              </thead>
              <tbody id="transactions-body">
                <!-- Data will be loaded here -->
              </tbody>
            </table>
            <div id="table-loading" class="table-loading">
              <div class="spinner"></div>
              <span>ƒêang t·∫£i d·ªØ li·ªáu...</span>
            </div>
            <div id="table-empty" class="table-empty" style="display: none">
              <span class="empty-icon">üì≠</span>
              <span>Ch∆∞a c√≥ giao d·ªãch n√†o</span>
            </div>
          </div>

          <!-- Pagination -->
          <div class="pagination" id="pagination">
            <button class="pagination-btn" id="btn-prev" disabled>
              <span>‚Üê</span> Tr∆∞·ªõc
            </button>
            <div class="pagination-info">
              Trang <span id="current-page">1</span> /
              <span id="total-pages">1</span>
            </div>
            <button class="pagination-btn" id="btn-next" disabled>
              Sau <span>‚Üí</span>
            </button>
          </div>

          <!-- Average Price Summary -->
          <div class="summary-box" id="summary-box">
            <div class="summary-header">
              <span class="summary-icon">üìä</span>
              <h3>T·ªïng k·∫øt</h3>
            </div>
            <div class="summary-content">
              <div class="summary-item">
                <span class="summary-label">S·ªë l∆∞·ª£ng b·∫°c hi·ªán c√≥:</span>
                <span class="summary-value" id="summary-quantity">0 l∆∞·ª£ng</span>
              </div>
              <div class="summary-item highlight">
                <span class="summary-label">Gi√° trung b√¨nh mua v√†o:</span>
                <span class="summary-value" id="summary-avg-price"
                  >0 ‚Ç´/l∆∞·ª£ng</span
                >
              </div>
              <div class="summary-item">
                <span class="summary-label">T·ªïng gi√° tr·ªã (theo gi√° TB):</span>
                <span class="summary-value" id="summary-total-value">0 ‚Ç´</span>
              </div>
            </div>
          </div>
        </section>

        <hr class="section-divider" />

        <!-- Section 3: Form B√°n B·∫°c -->
        <section class="section section-sell" id="section-sell">
          <div class="section-header">
            <h2><span class="section-icon">üì§</span> B√°n B·∫°c</h2>
          </div>
          <form id="sell-form" class="form">
            <div class="form-row">
              <div class="form-group">
                <label for="sell-quantity">S·ªë l∆∞·ª£ng mu·ªën b√°n (l∆∞·ª£ng)</label>
                <input
                  type="text"
                  id="sell-quantity"
                  name="quantity"
                  placeholder="VD: 2"
                  required
                />
              </div>
              <div class="form-group">
                <label for="sell-price">Gi√° b√°n m·ªói l∆∞·ª£ng (‚Ç´)</label>
                <input
                  type="text"
                  id="sell-price"
                  name="price"
                  placeholder="VD: 2000000"
                  required
                />
              </div>
            </div>
            <div class="form-actions">
              <button
                type="button"
                class="btn btn-secondary"
                id="btn-calculate"
              >
                <span class="btn-icon">üßÆ</span>
                T√≠nh l·ªùi/l·ªó
              </button>
              <button type="submit" class="btn btn-danger btn-sell">
                <span class="btn-icon">üíµ</span>
                X√°c nh·∫≠n b√°n
              </button>
            </div>
          </form>

          <!-- Profit/Loss Preview -->
          <div id="profit-preview" class="profit-preview" style="display: none">
            <div class="profit-header">
              <span class="profit-icon">üìà</span>
              <h4>D·ª± t√≠nh l·ªùi/l·ªó</h4>
            </div>
            <div class="profit-content">
              <div class="profit-row">
                <span class="profit-label">S·ªë l∆∞·ª£ng b√°n:</span>
                <span class="profit-value" id="preview-quantity">0 l∆∞·ª£ng</span>
              </div>
              <div class="profit-row">
                <span class="profit-label">Gi√° b√°n:</span>
                <span class="profit-value" id="preview-sell-price"
                  >0 ‚Ç´/l∆∞·ª£ng</span
                >
              </div>
              <div class="profit-row">
                <span class="profit-label">Gi√° trung b√¨nh mua:</span>
                <span class="profit-value" id="preview-avg-price"
                  >0 ‚Ç´/l∆∞·ª£ng</span
                >
              </div>
              <div class="profit-row">
                <span class="profit-label">L·ªùi/l·ªó m·ªói l∆∞·ª£ng:</span>
                <span class="profit-value" id="preview-profit-per-unit"
                  >0 ‚Ç´</span
                >
              </div>
              <div class="profit-row highlight">
                <span class="profit-label">T·ªïng l·ªùi/l·ªó:</span>
                <span class="profit-value" id="preview-total-profit">0 ‚Ç´</span>
              </div>
              <div class="profit-row">
                <span class="profit-label">Ph·∫ßn trƒÉm:</span>
                <span class="profit-value" id="preview-percentage">0%</span>
              </div>
            </div>
          </div>

          <div id="sell-message" class="message"></div>
        </section>
      </main>

      <!-- Footer -->
      <footer class="footer">
        <p>üíé H·ªá th·ªëng qu·∫£n l√Ω mua b√°n b·∫°c c√° nh√¢n</p>
      </footer>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <script src="script.js"></script>
  </body>
</html>
